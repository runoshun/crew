# git-crew configuration

[agents]
# worker_default = "<<.DefaultWorkerName>>"   # Default agent for starting tasks
# worker_prompt = ""                          # Default prompt for all worker agent
#
# manager_default = "<<.DefaultManagerName>>" # Default agent for starting manager tasks
# manager_prompt = ""                         # Default prompt for all manager agents
#
# disabled_agents = ["agent1", "agent2"]      # List of agents to disable (they won't appear in selection or be usable)

## Fields for all agents:
## [agents.<name>]
## inherit = "..."        # Name of agent to inherit from (copies all fields, allows overrides)
## role = "worker"        # Agent role ("worker", "manager")
## command_template = "xxx --model {{.Model}} {{.Args}}{{if .Continue}} -c{{end}} --prompt {{.Prompt}} {{.Args}}"  # Full command template
## system_prompt = "..."  # (optional) System prompt template.
## prompt = "..."         # (optional) User prompt template (added after system_prompt)
## args = "..."           # (optional) Additional arguments
## default_model = "opus" # (optional) Default model for this agent
## description = "..."    # (optional) Description of the agent's purpose
## setup_script = "..."   # (optional) Script to run after worktree creation
## hidden = false         # (optional) Hide from TUI agent list (default: false)
##

<<range .Agents>>
# [agents.<<.Name>>]
<<- if eq .Role "worker">>
# role = "worker"
<<- else if eq .Role "manager">>
# role = "manager"
<<- else if eq .Role "reviewer">>
# role = "reviewer"
<<- end>>
<<- if .Args>>
# args = <<.Args | printf "%q">>
<<- end>>
# default_model = ""  # Override model (e.g., "opus", "sonnet")
<<- if .Description>>
# description = <<.Description | printf "%q">>
<<- end>>

<<end>>

[worktree]
## Worktree initialization settings (applied to all workers)
## - setup_command: Command to run after worktree creation
## - copy: Files/directories to copy from main repo (uses CoW if available)
# setup_command = ""
# copy = []

[complete]
## CI gate on completion
# command = "mise run ci"

[diff]
## Diff display settings
## - command: Shell command to display diff. Supports template variables:
##   - {{.BaseBranch}}: Task's base branch (e.g., "main")
##   - {{.Args}}: Additional arguments passed to the diff command
##     The command runs from the worktree directory.
## - tui_command: Command for TUI diff display (optional)
# command = "git diff {{.BaseBranch}}...HEAD{{if .Args}} {{.Args}}{{end}}"
# tui_command = "git diff --color {{.BaseBranch}}...HEAD | less -R"

[log]
## Log settings
# level = "<<.LogLevel>>"  # debug, info, warn, error

[tui]
## Custom keybindings (list view only)
## - command: Command to execute (supports template variables)
## - description: Description for help text
## - override: Set to true to override builtin keybindings
##
## Template variables:
##   {{.TaskID}}, {{.TaskTitle}}, {{.TaskStatus}}, {{.Branch}}, {{.WorktreePath}}
##
# [tui.keybindings]
# "ctrl+p" = { command = "crew peek {{.TaskID}}", description = "Peek task" }

## Override Configuration
##
## For environment-specific settings (e.g., when using chezmoi), create:
##   ~/.config/git-crew/config.override.toml
##
## This file is loaded after global config and before repository configs:
##   Merge order: default <- global <- override <- rootRepo <- repo
##
## Example use cases:
##   - Disable agents not available on specific machines
##   - Override default models per environment
##   - Add machine-specific prompts
##
## Example ~/.config/git-crew/config.override.toml:
##   [agents]
##   disabled_agents = ["codex"]  # Disable codex on this machine
##   worker_default = "claude"    # Override default worker
