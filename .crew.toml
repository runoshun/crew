# git-crew configuration

[agents]
worker_prompt = "Use 'dev-workflow' skill and follow the instructions." # Default prompt for all worker agent

# manager_default = "claude-manager" # Default agent for starting manager tasks
# manager_prompt = ""                         # Default prompt for all manager agents

## Fields for all agents:
## [agents.<name>]
## inherit = "..."        # Name of agent to inherit from (copies all fields, allows overrides)
## role = "worker"        # Agent role ("worker", "manager")
## command_template = "xxx --model {{.Model}} {{.Args}}{{if .Continue}} -c{{end}} --prompt {{.Prompt}} {{.Args}}"  # Full command template
## system_prompt = "..."  # (optional) System prompt template.
## prompt = "..."         # (optional) User prompt template (added after system_prompt)
## args = "..."           # (optional) Additional arguments
## default_model = "opus" # (optional) Default model for this agent
## description = "..."    # (optional) Description of the agent's purpose
## setup_script = "..."   # (optional) Script to run after worktree creation
## hidden = false         # (optional) Hide from TUI agent list (default: false)
##


# [agents.claude]
# role = "worker"
# default_model = ""  # Override model (e.g., "opus", "sonnet")
# description = "Claude model via Anthropic CLI"


# [agents.claude-manager]
# role = "manager"
# default_model = ""  # Override model (e.g., "opus", "sonnet")
# description = "Claude manager agent for task orchestration"


# [agents.opencode]
# role = "worker"
# default_model = ""  # Override model (e.g., "opus", "sonnet")
# description = "General purpose coding agent via opencode CLI"


# [agents.opencode-manager]
# role = "manager"
# default_model = ""  # Override model (e.g., "opus", "sonnet")
# description = "OpenCode manager agent for task orchestration"



[worktree]
## Worktree initialization settings (applied to all workers)
## - setup_command: Command to run after worktree creation
## - copy: Files/directories to copy from main repo (uses CoW if available)
setup_command = "mise trust"
# copy = []

[complete]
## CI gate on completion
# command = "mise run ci"

[diff]
## Diff display settings
## - command: Shell command to display diff. Supports template variables:
##   - {{.BaseBranch}}: Task's base branch (e.g., "main")
##   - {{.Args}}: Additional arguments passed to the diff command
##     The command runs from the worktree directory.
# command = "git diff {{.BaseBranch}}...HEAD{{if .Args}} {{.Args}}{{end}}"

[log]
## Log settings
# level = "info"  # debug, info, warn, error

[tasks]
# Default namespace for this repository's task store.
# Overrides the fallback derived from `git config user.email`.
namespace = "crew"

[tui]
[tui.keybindings]
[tui.keybindings.E]
command = 'nvim'
description = 'Open nvim in repo root'

[tui.keybindings.I]
command = 'mise run install'
description = 'Run mise install in repo root'

[tui.keybindings.'ctrl+e']
command = 'crew exec {{.TaskID}} -- nvim'
description = 'Open nvim in worktree'

[tui.keybindings.i]
command = 'crew exec {{.TaskID}} -- mise run install'
description = 'Run mise install in worktree'
